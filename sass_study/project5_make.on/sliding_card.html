<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sliding_card</title>
    <style>
        .all {
            width:600px; overflow:hidden;
            background:#eee; padding:10px;
        }
        .all .bnr { 
            display:flex; flex-flow:row nowrap; gap:10px;
            width:calc(500px * 2);
            transition: transform 0.3s ease-out;
        }
        .all .bnr .card {
            width:500px; height:200px; border-radius:10px;
        }
        .all .bnr .card1 {background:aqua;}
        .all .bnr .card2 {background:lime;}
    </style>
</head>
<body>
    <div class="all">
        <div class="bnr">
            <div class="card1 card">1</div>
            <div class="card2 card">2</div>
        </div>
    </div>

    <script>
        
        const allContainer = document.querySelector('.all')
        const bnrContainer = document.querySelector('.bnr')
        const card = bnrContainer.querySelectorAll('.card')
        console.log(allContainer,bnrContainer,card)
        const cardW = card[0].offsetWidth
        let startX = 0; //마우스 위치 계산 변수
        let startScrollleft = 0; // 수평 스크롤 크기 계산 변수
        let isDrag = false;  /* 현재 내가 마우스를 움직이고 있는지 아닌지 */
        //마우스 위치 계산 변수
        //수평 스크롤 크기 계산 변수
        console.log(cardW)

        allContainer.addEventListener('mousedown',(e)=>{
            isDrag = true; //마우스 누를 때 상태 번경(드래그 시작)
            startX = e.pageX - allContainer.offsetLeft; //부모에서 마우스의 상대적인 좌표 지정
            startScrollLeft = allContainer.scrollLeft; // 수평 스크롤 위치 조정
        })
        allContainer.addEventListener('mouseup',()=>{
            isDrag = false; //마우스를 뗄 때 상태 변경 (드래그 종료)
        })
        allContainer.addEventListener('mousemove',(e)=>{
            if(!isDrag){return}
            console.log('실행확인')
             /* 만약 마우스 드래그가 거짓이라면  종료 (return (중단)) */
            const x = e.pageX; // mousemove 이번트 진행 시 마우스 좌표 변수
            const walk = x - startX;
            allContainer.scrollLeft = startScrollLeft - walk;
        })
    </script>
</body>
</html>